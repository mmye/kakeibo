# 家計簿ダッシュボード要素仕様書

## データ構造

元データ: `data.tsv`（2025年の家計データ）

| カラム名 | 説明 |
|---------|------|
| 計算対象 | フラグ（1=計算対象） |
| 日付 | YYYY/MM/DD形式 |
| 内容 | 取引の説明 |
| 金額（円） | 正=収入、負=支出 |
| 保有金融機関 | 銀行・カード会社 |
| 大項目 | カテゴリ（食費、日用品、交通費など） |
| 中項目 | サブカテゴリ |
| メモ | 備考 |
| 振替 | 振替フラグ |
| ID | ユニークID |

---

## ダッシュボード要素

### 1. サマリーカード（上部）

- **月間収入合計**: 当月の収入総額
- **月間支出合計**: 当月の支出総額
- **収支バランス**: 収入 - 支出
- **前月比の増減**: %表示で変化を可視化

### 2. 時系列チャート

- **月別収支推移グラフ**（折れ線グラフ）
  - 収入・支出・差額を重ねて表示
  - X軸: 月、Y軸: 金額

### 3. カテゴリ分析

- **大項目別支出の円グラフ**
  - 食費、日用品、交通費などの割合を表示
- **大項目別棒グラフ**
  - 月ごとのカテゴリ別支出比較
- **ドリルダウン機能**
  - 大項目をクリックすると中項目の内訳を表示

### 4. 支出ランキング

- **中項目別支出ランキング**（TOP10）
  - どのサブカテゴリに最も支出しているか
- **高額支出リスト**
  - 単発の大きな出費を一覧表示

### 5. 収入分析

- **収入源の内訳**
  - 給与、ポイント、児童手当などの割合
- **月別収入推移**
  - 収入の安定性を確認

### 6. 金融機関別分析

- **保有金融機関別の支出内訳**
  - どのカード・口座でいくら使っているか
  - 三菱UFJ銀行、楽天カード、三井住友カードなど

### 7. トレンド・比較

- **月別カテゴリ比較ヒートマップ**
  - 各月×各カテゴリの支出をヒートマップで可視化
- **前年同月比**（データがあれば）

### 8. 明細テーブル

- **フィルタリング機能**
  - 期間、カテゴリ、金額での絞り込み
- **ソート機能**
  - 日付、金額、カテゴリなどでソート
- **検索機能**
  - 内容のキーワード検索
